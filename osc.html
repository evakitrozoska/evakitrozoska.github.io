<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MATLAB Oscilloscope Simulator</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- topbar -->
<div class="topbar" id="topbar">
  <div class="name">Projects</div>
  <a class="back-btn" href="index.html">← Back</a>
</div>

<div class="main">
  <div class="project-detail">
    <h1>MATLAB Oscilloscope Simulator</h1>

    <!-- HERO image (no wrapper background, fills width) -->
    <div class="single-img-container">
      <img id="hero-img" src="https://raw.githubusercontent.com/evakitrozoska/oscilloscope/main/static_overview.jpeg" alt="Oscilloscope Overview">
    </div>

    <p>
      This MATLAB project is a learning tool designed to understand oscilloscope operation and basic signal analysis in both time and frequency domains.
      It supports two channels and includes features such as <strong>MATH operations</strong>, <strong>XY mode</strong> (Lissajous), trigger settings, and random signal generation.
    </p>

    <h2>Main Features</h2>

    <!-- MAIN carousel (buttons, not links) -->
    <div class="carousel-container" id="main-carousel-container">
      <img id="main-carousel" alt="oscilloscope screenshot">
      <button id="main-prev" class="carousel-arrow left" aria-label="previous">&#10094;</button>
      <button id="main-next" class="carousel-arrow right" aria-label="next">&#10095;</button>
      <div id="main-caption" class="carousel-caption"></div>
    </div>

    <h2>Code / Functionality</h2>
    <p>
      <strong>Signal generation:</strong> random DC, sine, square, sawtooth components.<br>
      <strong>Trigger search:</strong> finds crossings; falls back to an autotrigger point if none found.<br>
      <strong>Math:</strong> CH1+CH2, CH1-CH2, CH1×CH2, FFT.<br>
      <strong>Coupling:</strong> DC/AC.<br>
      <strong>Timer:</strong> updates at 50 ms.
    </p>

    <h2>Bonus: Lissajous Patterns</h2>
    <div class="carousel-container" id="bonus-carousel-container">
      <img id="bonus-carousel" alt="lissajous screenshot">
      <button id="bonus-prev" class="carousel-arrow left" aria-label="previous">&#10094;</button>
      <button id="bonus-next" class="carousel-arrow right" aria-label="next">&#10095;</button>
    </div>

    <div class="tags">
      <span>MATLAB</span><span>Oscilloscope</span><span>Signal Processing</span><span>Learning Tool</span>
    </div>

    <h2>Future Improvements</h2>
    <p>cursors, trigger modes, filtering, microphone input, record/export</p>

  </div>
</div>

<script>
/* carousel images (replace if needed) */
const mainImages = [
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc1.PNG", caption:"Random signals, CH1+CH2, Time mode"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc2.PNG", caption:"FFT (Fourier Transform)"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc3.PNG", caption:"XY Mode (Lissajous)"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc5.PNG", caption:"Trigger, Negative slope"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc4.PNG", caption:"Trigger, Positive slope"}
];

const bonusImages = [
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool3.PNG",
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool2.PNG",
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool1.PNG"
];

/* elements */
const mainImg = document.getElementById('main-carousel');
const mainCaption = document.getElementById('main-caption');
const mainPrev = document.getElementById('main-prev');
const mainNext = document.getElementById('main-next');

const bonusImg = document.getElementById('bonus-carousel');
const bonusPrev = document.getElementById('bonus-prev');
const bonusNext = document.getElementById('bonus-next');

let mainIndex = 0;
let bonusIndex = 0;

/* safe set (fallback to first image on error) */
function safeSet(imgEl, url, fallback) {
  imgEl.src = url;
  imgEl.onerror = () => { if (fallback && imgEl.src !== fallback) imgEl.src = fallback; };
}

/* show functions */
function showMain(i) {
  mainIndex = (i + mainImages.length) % mainImages.length;
  safeSet(mainImg, mainImages[mainIndex].src, mainImages[0].src);
  mainCaption.textContent = mainImages[mainIndex].caption || '';
}
function showBonus(i) {
  bonusIndex = (i + bonusImages.length) % bonusImages.length;
  safeSet(bonusImg, bonusImages[bonusIndex], bonusImages[0]);
}

/* handlers */
mainPrev.addEventListener('click', (e)=>{ e.preventDefault(); showMain(mainIndex-1); });
mainNext.addEventListener('click', (e)=>{ e.preventDefault(); showMain(mainIndex+1); });
bonusPrev.addEventListener('click', (e)=>{ e.preventDefault(); showBonus(bonusIndex-1); });
bonusNext.addEventListener('click', (e)=>{ e.preventDefault(); showBonus(bonusIndex+1); });

/* init */
document.addEventListener('DOMContentLoaded', ()=>{
  // hero fallback in case main static fails
  const hero = document.getElementById('hero-img');
  hero.onerror = ()=> { hero.src = mainImages[0].src; };

  showMain(0);
  showBonus(0);

  // topbar shrink
  const topbar = document.getElementById('topbar');
  window.addEventListener('scroll', ()=> topbar.classList.toggle('shrink', window.scrollY > 20));

  // keyboard navigation for main carousel
  document.addEventListener('keydown', (e)=> {
    if (e.key === 'ArrowLeft') mainPrev.click();
    if (e.key === 'ArrowRight') mainNext.click();
  });
});
</script>
</body>
</html>
