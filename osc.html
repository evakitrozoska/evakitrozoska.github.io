<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MATLAB Oscilloscope Simulator</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Topbar -->
<div class="topbar" id="topbar">
  <div class="name">Projects</div>
  <a class="back-btn" href="index.html">← Back</a>
</div>

<div class="main">
  <div class="project-detail">
    <h1>MATLAB Oscilloscope Simulator</h1>

    <!-- HERO: single image -->
    <div class="single-img-container" id="hero-container">
      <img id="hero-img" alt="Oscilloscope Overview"
           src="https://raw.githubusercontent.com/evakitrozoska/oscilloscope/main/static_overview.jpeg">
    </div>

    <p>
      This MATLAB project is a learning tool designed to understand oscilloscope operation and basic signal analysis in both time and frequency domains.
      It supports two channels and includes features such as <strong>MATH operations</strong> (addition, subtraction, multiplication, FFT),
      <strong>XY mode</strong> (Lissajous patterns), <strong>trigger settings</strong> (level, slope, source), and dynamic random signal generation.
    </p>

    <!-- MAIN CAROUSEL -->
    <h2>Main Features</h2>
    <div class="carousel-container" id="main-carousel-container">
      <img id="main-carousel" alt="Oscilloscope screenshot">
      <a id="main-prev" class="carousel-arrow left" href="#" aria-label="Previous">&#10094;</a>
      <a id="main-next" class="carousel-arrow right" href="#" aria-label="Next">&#10095;</a>
      <div id="main-caption" class="carousel-caption"></div>
    </div>

    <h2>Code / Functionality</h2>
    <p>
      <strong>Signal Generation:</strong> Generates random test waveforms dynamically with DC, sine, square, and sawtooth components, each with random frequency, amplitude, and phase.<br><br>
      <strong>Trigger Search:</strong> Scans the selected channel for points where the waveform crosses the trigger level in the chosen slope direction. If no crossing is found, a random point is chosen to maintain continuous display (mimicking Auto mode).<br><br>
      <strong>Math Operations:</strong> Real-time CH1 + CH2, CH1 – CH2, CH1 × CH2; FFT for spectral analysis.<br><br>
      <strong>Coupling:</strong> DC and AC; AC mode removes mean automatically.<br><br>
      <strong>Timer & Updates:</strong> A MATLAB timer updates every 50ms. Signals are computed with microsecond resolution (Nyquist depends on sampling interval).
    </p>

    <!-- BONUS CAROUSEL -->
    <h2>Bonus: Lissajous Patterns</h2>
    <div class="carousel-container" id="bonus-carousel-container">
      <img id="bonus-carousel" alt="Lissajous pattern">
      <a id="bonus-prev" class="carousel-arrow left" href="#" aria-label="Previous">&#10094;</a>
      <a id="bonus-next" class="carousel-arrow right" href="#" aria-label="Next">&#10095;</a>
    </div>

    <!-- Tags -->
    <div class="tags">
      <span>MATLAB</span>
      <span>Oscilloscope</span>
      <span>Signal Processing</span>
      <span>Learning Tool</span>
    </div>

    <h2>Future Improvements</h2>
    <p>Implement cursors; add additional trigger modes (single, delayed); expand math and signal processing options (filters, RMS, averaging); enable real-time input from a microphone or hardware; record and export waveforms.</p>
  </div>
</div>

<script>
/* === JS for carousels ===
   - loads first images
   - sets caption
   - simple fallback if loads fail
*/

/* images arrays (replace urls if you have new ones) */
const mainImages = [
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc1.PNG", caption:"Random signals, CH1 + CH2, Time mode"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc2.PNG", caption:"FFT (Fourier Transform)"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc3.PNG", caption:"XY Mode (Lissajous)"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc5.PNG", caption:"Trigger, Negative slope"},
  {src:"https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/osc4.PNG", caption:"Trigger, Positive slope"}
];

const bonusImages = [
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool3.PNG",
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool2.PNG",
  "https://raw.githubusercontent.com/evakitrozoska/evakitrozoska.github.io/main/cool1.PNG"
];

let mainIndex = 0;
let bonusIndex = 0;

const mainImgEl = document.getElementById('main-carousel');
const mainCaptionEl = document.getElementById('main-caption');
const mainPrev = document.getElementById('main-prev');
const mainNext = document.getElementById('main-next');

const bonusImgEl = document.getElementById('bonus-carousel');
const bonusPrev = document.getElementById('bonus-prev');
const bonusNext = document.getElementById('bonus-next');

/* helper to set image with onerror fallback */
function safeSetImage(imgEl, url, fallbackUrl) {
  imgEl.src = url;
  imgEl.onerror = () => { if (fallbackUrl && imgEl.src !== fallbackUrl) imgEl.src = fallbackUrl; };
}

/* main carousel functions */
function showMain(i) {
  mainIndex = (i + mainImages.length) % mainImages.length;
  safeSetImage(mainImgEl, mainImages[mainIndex].src, mainImages[0].src);
  mainCaptionEl.textContent = mainImages[mainIndex].caption || '';
}
mainPrev.addEventListener('click', (e) => { e.preventDefault(); showMain(mainIndex - 1); });
mainNext.addEventListener('click', (e) => { e.preventDefault(); showMain(mainIndex + 1); });

/* bonus carousel functions */
function showBonus(i) {
  bonusIndex = (i + bonusImages.length) % bonusImages.length;
  safeSetImage(bonusImgEl, bonusImages[bonusIndex], bonusImages[0]);
}
bonusPrev.addEventListener('click', (e) => { e.preventDefault(); showBonus(bonusIndex - 1); });
bonusNext.addEventListener('click', (e) => { e.preventDefault(); showBonus(bonusIndex + 1); });

/* init on DOM ready */
document.addEventListener('DOMContentLoaded', () => {
  // Hero image fallback
  const hero = document.getElementById('hero-img');
  hero.onerror = () => { hero.src = mainImages[0].src; };

  showMain(0);
  showBonus(0);
});

/* topbar shrink */
const topbar = document.getElementById('topbar');
window.addEventListener('scroll', () => topbar.classList.toggle('shrink', window.scrollY > 20));

/* keyboard navigation for convenience */
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft') mainPrev.click();
  if (e.key === 'ArrowRight') mainNext.click();
});
</script>

</body>
</html>
